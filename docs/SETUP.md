# 百度网盘应用设置指南

本文档详细说明如何在百度网盘开放平台创建应用并获取必要的认证信息。

## 🚀 快速设置

### 第一步：访问百度网盘开放平台

1. 打开浏览器，访问：https://pan.baidu.com/union/console
2. 使用百度账号登录

### 第二步：完成开发者认证

根据你的情况选择：

#### 个人开发者认证
- 提供身份证信息
- 完成实名认证
- 审核通过后即可创建应用

#### 企业开发者认证  
- 提供企业营业执照
- 填写企业相关信息
- 审核时间较长，但可以创建更多应用（最多10个）

### 第三步：创建应用

1. **点击"创建应用"按钮**

2. **填写应用信息**：
   ```
   应用类型：软件（推荐）
   应用名称：bddisk-uploader（或其他自定义名称）
   应用描述：百度网盘文件上传工具
   ```

3. **设置授权回调地址**：
   ```
   http://localhost:8080/callback
   ```
   
   ⚠️ **重要**：回调地址必须完全匹配，包括协议、域名、端口和路径

4. **提交应用创建请求**

### 第四步：获取应用凭据

应用创建成功后，在应用详情页面可以看到：

```
App ID: 119802691
App Key: N9Yq0CGWEGqNS9RGSzaFFN7D3QQKXupT  
Secret Key: mS9z5UYVUB6NkqxLPJPOAagy1v6jsqSf
Sign Key: l1F2@lFg264CK@GyACVPU20IcLNKFMQw
```

### 第五步：配置工具

1. **运行初始化命令**：
   ```bash
   ./bddisk_uploader -init
   ```

2. **编辑配置文件** `config.json`：
   ```json
   {
     "oauth": {
       "client_id": "N9Yq0CGWEGqNS9RGSzaFFN7D3QQKXupT",    // App Key
       "client_secret": "mS9z5UYVUB6NkqxLPJPOAagy1v6jsqSf" // Secret Key
     },
     "app_path": "/apps/bddisk-uploader/"  // 根据你的应用名称调整
   }
   ```

3. **开始授权**：
   ```bash
   ./bddisk_uploader -auth
   ```

## 🔧 高级配置

### 自定义端口

如果默认端口8080被占用，可以：

1. **修改回调地址**（在百度网盘控制台）：
   ```
   http://localhost:9090/callback
   ```

2. **更新配置文件**：
   ```json
   {
     "oauth": {
       "redirect_uri": "http://localhost:9090/callback"
     }
   }
   ```

3. **使用自定义端口授权**：
   ```bash
   ./bddisk_uploader -auth -port 9090
   ```

### 应用路径说明

所有上传的文件都会保存在 `/apps/你的应用名/` 目录下，例如：
- 应用名为 `bddisk-uploader`
- 文件会上传到 `/apps/bddisk-uploader/`
- 在百度网盘客户端中可以看到

### 权限范围

默认申请的权限：
- `basic`: 基础用户信息
- `netdisk`: 网盘文件操作权限

这些权限足够文件上传使用，无需修改。

## ❓ 常见问题

### Q: 创建应用时提示"个人应用创建已暂停"？

A: 这是百度的政策调整，目前个人开发者创建应用的功能可能会被限制。建议：
1. 等待政策调整
2. 考虑企业认证
3. 使用现有的测试应用

### Q: 应用审核需要多长时间？

A: 
- 个人认证：通常1-3个工作日
- 企业认证：通常3-7个工作日
- 应用创建：即时生效

### Q: 如何修改应用信息？

A: 在应用详情页面可以修改：
- 应用名称和描述
- 授权回调地址
- 应用状态（启用/禁用）

### Q: Secret Key泄露了怎么办？

A: 
1. 立即在控制台重新生成Secret Key
2. 更新配置文件中的密钥
3. 重新进行授权流程

### Q: 可以创建多个应用吗？

A: 
- 个人开发者：通常限制较严格
- 企业开发者：最多可创建10个应用

## 🔒 安全建议

1. **保护密钥安全**：
   - 不要将Secret Key提交到公开代码仓库
   - 定期轮换应用密钥
   - 使用环境变量存储敏感信息

2. **合理设置权限**：
   - 只申请必要的权限范围
   - 定期检查应用授权状态

3. **监控异常行为**：
   - 注意异常的API调用
   - 及时处理安全事件

---

如果在设置过程中遇到问题，请参考主README文档的常见问题部分，或查看百度网盘开放平台的官方文档。